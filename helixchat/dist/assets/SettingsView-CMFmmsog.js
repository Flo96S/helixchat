import{d as C,u as z,l as d,e as N,o as h,c as p,a as e,w as u,m,i as c,k as j,j as B,r as g}from"./index-LACCAfl5.js";import{a as f}from"./axios-B4uVmeYG.js";const D={class:"settings flex flex-col items-center justify-center bg-gray-900 text-white"},A=e("a",{class:"icon-left-open"},null,-1),T=[A],V=e("a",{class:"ml-2"},"Settings",-1),F=e("img",{src:B,class:"img w-32 h-32 mb-4"},null,-1),L=e("h1",{class:"text-2xl mb-4"},"Settings",-1),U={class:"w-full max-w-xs"},E={class:"bg-gray-800 shadow-md rounded px-8 pt-6 pb-4 mb-4"},G={class:"bg-gray-800 p-4 rounded"},M=e("label",{for:"theme"},"Theme",-1),R=e("option",{value:"dark"},"Dark",-1),q=e("option",{value:"light"},"Light",-1),P=[R,q],H=e("label",{for:"background-pattern"},"Background Pattern",-1),J=e("option",{value:"none"},"None",-1),K=e("option",{value:"Network"},"Network",-1),O=e("option",{value:"Network_2"},"Network 2",-1),Q=e("option",{value:"ReactionGlass"},"Reaction Glass",-1),W=[J,K,O,Q],X={class:"mb-4"},Y=e("label",{for:"font-size",class:"block text-gray-200"},"Font Size",-1),Z=e("option",{value:"small"},"Small",-1),$=e("option",{value:"medium"},"Medium",-1),ee=e("option",{value:"large"},"Large",-1),te=[Z,$,ee],oe={class:"flex items-center justify-center mb-4"},se={class:"flex items-center justify-center mb-4"},ne={key:0,class:"bg-gray-800 shadow-md rounded px-8 pt-6 pb-4 mb-4 fixed bottom-0 left-0 right-0"},ae=e("div",{class:"mb-4"},[e("p",{class:"text-white text-lg"},"Are you sure you want to delete your account? This action cannot be undone.")],-1),le={class:"flex items-center justify-center mb-4"},de=C({__name:"SettingsView",setup(ce){const n=z(),r=d({get:()=>n.state.theme,set:t=>n.commit("setTheme",t)}),a=d({get:()=>n.state.backgroundImage,set:t=>n.commit("setBackgroundImage",t)}),l=d({get:()=>n.state.fontSize,set:t=>n.commit("setFontSize",t)}),i=N(!1),b=()=>{n.commit("setFontSize",l.value),n.commit("setTheme",r.value),n.commit("setBackgroundImage",a.value)},_=async()=>{let t=localStorage.getItem("token");if(t||(t=sessionStorage.getItem("token")),t)try{const s=await f.get("https://www2.hs-esslingen.de/~melcher/map/chat/api/",{params:{request:"logout",token:t},headers:{"Content-Type":"application/json",Accept:"application/json"}});s.data?(sessionStorage.removeItem("token"),localStorage.removeItem("token"),sessionStorage.removeItem("hash"),localStorage.removeItem("hash"),g.push("/login")):console.error("Logout failed:",s.data.message)}catch(o){console.error("Logout error:",o)}else console.error("No token found. User may not be logged in.")},v=async()=>{let t=localStorage.getItem("token");if(t||(t=sessionStorage.getItem("token")),t)try{const s=await f.get("https://www2.hs-esslingen.de/~melcher/map/chat/api/",{params:{request:"deregister",token:t},headers:{"Content-Type":"application/json",Accept:"application/json"}});s.data?(sessionStorage.removeItem("token"),localStorage.removeItem("token"),sessionStorage.removeItem("hash"),localStorage.removeItem("hash"),g.push("/login")):console.error("Deregistration failed:",s.data.message)}catch(o){console.error("Deregistration error:",o)}else console.error("No token found. User may not be logged in.")},k=()=>{g.replace("/")},w=()=>{i.value=!0},y=()=>{i.value=!1},x=async()=>{i.value=!1,v()},S=()=>{switch(a.value){case"Network":break;case"ReactionGlass":break;case"Network_2":break;case"default":break;default:console.log("Background image not found:",a.value);break}},I=()=>{switch(l.value){case"small":document.documentElement.style.fontSize="10px";break;case"medium":document.documentElement.style.fontSize="14px";break;case"large":document.documentElement.style.fontSize="16px";break;default:console.log("Font size not found:",l.value);break}};return(t,o)=>(h(),p("div",D,[e("nav",{class:"bg-blue-800 text-white pl-2 py-4 flex flex-row drop-shadow-lg w-full"},[e("button",{onClick:k,class:"text-white hover:underline px-2"},T),V]),F,L,e("div",U,[e("div",E,[e("div",G,[M,u(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s),id:"theme",class:"bg-gray-700 w-full mb-4"},P,512),[[m,r.value]]),H,u(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>a.value=s),onChange:S,id:"background-pattern",class:"bg-gray-700 w-full mb-4"},W,544),[[m,a.value]])]),e("div",X,[Y,u(e("select",{id:"font-size","onUpdate:modelValue":o[2]||(o[2]=s=>l.value=s),onChange:I,class:"w-full appearance-none border rounded py-2 px-3 text-gray-800 leading-tight focus:outline-none focus:shadow-outline"},te,544),[[m,l.value]])]),e("div",oe,[e("button",{onClick:c(b,["prevent"]),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Save")]),e("div",se,[e("button",{onClick:c(_,["prevent"]),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Logout"),e("button",{onClick:c(w,["prevent"]),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ml-4",type:"button"},"Delete Account")])])]),i.value?(h(),p("div",ne,[ae,e("div",le,[e("button",{onClick:c(y,["prevent"]),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Cancel"),e("button",{onClick:c(x,["prevent"]),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ml-4",type:"button"},"Confirm")])])):j("",!0)]))}});export{de as default};
